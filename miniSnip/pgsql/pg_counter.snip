? pg counter
coalesce(<{alias}>.<{counter}>, 0) as <{~2}>_count,
left join ( select <{id}>, count(*) as <{~2}> from <{schema.table}> group by <{~3}> ) <{~1}> on (<{local_table.id}> = <{~1}>.<{~3}>)
